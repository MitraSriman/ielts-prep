<!DOCTYPE html><html lang="en">
<head>
<meta charset="UTF-8">
<title>IELTS Computer Based Practice Test</title>
<style>
body{font-family:Arial,Helvetica,sans-serif;margin:0;background:#f5f7fa}
header{background:#0a3d62;color:#fff;padding:15px;text-align:center}
.container{display:flex;height:calc(100vh - 60px)}
.left{width:60%;padding:20px;overflow-y:auto;background:#ffffff}
.right{width:40%;padding:20px;overflow-y:auto;border-left:1px solid #ddd;background:#fafafa}
.question{margin-bottom:15px}
.timer{font-weight:bold;color:#c0392b}
button{padding:8px 12px;margin:5px 0}
.hidden{display:none}
</style>
</head>
<body>
<header>
<h2>IELTS Academic â€“ Computer Based Practice Test</h2>
<p class="timer" id="timer">Time: 60:00</p>
</header><div class="container">
<div class="left" id="passageArea"></div>
<div class="right" id="questionArea"></div>
</div><script>
/**************** TIMER ****************/
let time = 3600; // reading default
let timerInterval = setInterval(()=>{
  let m = Math.floor(time/60);
  let s = time%60;
  document.getElementById('timer').innerText = `Time: ${m}:${s<10?'0':''}${s}`;
  if(time>0) time--;
},1000);

/**************** READING CONTENT ****************/
const readingPassages = [
{
 title:"Passage 1: The Rise of Urban Farming",
 text:`Urban farming has become increasingly popular in cities worldwide. As urban populations grow, access to fresh produce has become a challenge. Rooftop gardens, vertical farms, and community plots provide local food while reducing transportation costs and carbon emissions. Researchers argue that urban farming also strengthens community ties and improves mental health. However, critics point out limitations such as space constraints and high initial costs.`
},
{
 title:"Passage 2: Sleep and Human Performance",
 text:`Sleep plays a critical role in memory formation and physical recovery. Studies show that adults require between seven and nine hours of sleep per night. Chronic sleep deprivation has been linked to reduced concentration, weakened immunity, and increased risk of long-term illness. Despite this, modern lifestyles and excessive screen use continue to disrupt natural sleep cycles.`
},
{
 title:"Passage 3: The History of Paper",
 text:`Paper was invented in China over two thousand years ago and later spread to the Islamic world and Europe. The invention revolutionised record keeping and education. Although digital media is now dominant, paper remains widely used due to its low cost, reliability, and accessibility in regions with limited technology.`
}
];

const readingQuestions = Array.from({length:40},(_,i)=>`Reading Question ${i+1}`);

function loadReading(){
  document.getElementById('passageArea').innerHTML = readingPassages.map(p=>`<h3>${p.title}</h3><p>${p.text}</p>`).join('');
  document.getElementById('questionArea').innerHTML = readingQuestions.map((q,i)=>`
    <div class='question'>
      <label>${i+1}. ${q}</label><br>
      <input type='text' id='r${i+1}'>
    </div>`).join('');
}

/**************** LISTENING AUDIO (REAL TTS) ****************/
const listeningScripts = [
`You are listening to a conversation about renting accommodation. The rent is one hundred and fifty pounds per week. Utilities are included. The room is on the second floor. The minimum stay is six months.`,
`Welcome to the Riverside Sports Centre. The centre opened in April and offers facilities for the general public. Free parking is available for everyone.`,
`The students are discussing a group project on urban transport. The presentation lasts fifteen minutes and the deadline is Friday.`,
`Today's lecture discusses sustainability and environmental responsibility. Renewable energy includes wind and solar power.`
];

let played = [false,false,false,false];

function playListening(section){
  if(played[section]){alert('This section can only be played once.');return;}
  let u = new SpeechSynthesisUtterance(listeningScripts[section]);
  u.lang='en-GB';u.rate=0.9;
  u.onend=()=>played[section]=true;
  speechSynthesis.speak(u);
}

function loadListening(){
  time = 2400; // 40 min
  document.getElementById('timer').innerText='Time: 40:00';
  document.getElementById('passageArea').innerHTML = `
  <h3>Listening Sections</h3>
  <button onclick='playListening(0)'>Play Section 1</button>
  <button onclick='playListening(1)'>Play Section 2</button>
  <button onclick='playListening(2)'>Play Section 3</button>
  <button onclick='playListening(3)'>Play Section 4</button>`;

  document.getElementById('questionArea').innerHTML = Array.from({length:40},(_,i)=>`
    <div class='question'>
      <label>${i+1}. Listening Question ${i+1}</label><br>
      <input type='text' id='l${i+1}'>
    </div>`).join('');
}

/**************** LOAD DEFAULT ****************/
loadReading();
</script><footer style="text-align:center;padding:10px">
<button onclick="loadReading()">Reading Test</button>
<button onclick="loadListening()">Listening Test</button>
</footer>
</body>
</html>
